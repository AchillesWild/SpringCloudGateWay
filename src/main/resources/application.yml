server:
  port: 80
spring:
  application:
    name: spring-cloud-gateway-demo
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true #\u542F\u7528\u8DEF\u7531\u8BBF\u95EE
      routes:
        - id: path_route
          # \u6307\u5B9A\u57DF\u540D
          uri: http://localhost:8080/
          predicates:
            - Path=/flow/**
          filters:
            # \u7194\u65AD\u914D\u7F6E
            - name: Hystrix
              args:
                name: default
                fallbackUri: forward:/fallback
        - id: path_route2
          # \u6307\u5B9A\u57DF\u540D
          uri: http://localhost:8081
          predicates:
            - Path=/war/**
          filters:
            # \u7194\u65AD\u914D\u7F6E
            - name: Hystrix
              args:
                name: hystrix1
                fallbackUri: forward:/fallback

  mvc:
    throw-exception-if-no-handler-found: true

  redis:
    database: 0
    host: 192.168.200.111
    port: 6379
    password: root
    lettuce:
      pool:
        max-active: 300
        max-idle: 8
        max-wait: -1ms
        min-idle: 0
  session:
    store-type: redis


# \u9ED8\u8BA4\u7194\u65AD\u8D85\u65F6\u65F6\u95F430s
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 3000
    hystrix1:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 1000